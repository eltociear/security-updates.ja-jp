---
TOCTitle: 'MS04-045'
Title: 'マイクロソフト セキュリティ情報 MS04-045 - 重要'
ms:assetid: 'ms04-045'
ms:contentKeyID: 61228693
ms:mtpsurl: 'https://technet.microsoft.com/ja-JP/library/ms04-045(v=Security.10)'
---
 
マイクロソフト セキュリティ情報 MS04-045 - 重要
===============================================

WINS の脆弱性により、リモートでコードが実行される (870763)
----------------------------------------------------------

公開日: 2004年12月15日 | 最終更新日: 2004年12月17日

[](http://www.microsoft.com/japan/security/bulletins/ms04-045e.mspx)

#### 概要 :

**このセキュリティ情報の対象となるユーザー :** Microsoft Windows Internet Naming Service (WINS) を使用しているお客様

**脆弱性の影響 :** リモートでコードが実行される

**最大深刻度 :** 重要

**推奨する対応策 :** WINS サーバーの管理者は可能な限り早期にこの更新プログラムをインストールして下さい。

**含まれる過去の更新プログラム :** このセキュリティ情報で提供される更新プログラムは、以前提供されたいくつかの更新プログラムに置き換わるものです。置き換わる更新プログラムの一覧については、このセキュリティ情報の「よく寄せられる質問」をご覧下さい。

**警告 :**

**テストしたソフトウェアおよび更新プログラムのダウンロード先**

**影響を受けるソフトウェア :**

|                                                                                                                                           | PC/AT                                                                                                                                                                                             | PC-9800                                                                                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Microsoft Windows NT Server 4.0 Service Pack 6a![](../../images/Dn609970.mu_s(ja-JP,Security.10).gif)              | [![](../../images/Dn609970.dl_arrow(ja-JP,Security.10).jpg)](http://www.microsoft.com/downloads/details.aspx?familyid=38e9db8c-5c43-4e9a-9dc9-97c2686a45f1&displaylang=ja) | [![](../../images/Dn609970.dl_arrow(ja-JP,Security.10).jpg)](http://www.microsoft.com/downloads/details.aspx?familyid=38e9db8c-5c43-4e9a-9dc9-97c2686a45f1&displaylang=ja-nec) |
| Microsoft Windows NT Server 4.0 Terminal Server Edition, Service Pack 6                                                                   | [![](../../images/Dn609970.dl_arrow(ja-JP,Security.10).jpg)](http://www.microsoft.com/downloads/details.aspx?familyid=d7ab3f6f-26fe-4ae8-a07a-481d772d03a6&displaylang=ja) | -                                                                                                                                                                                                     |
| Microsoft Windows 2000 Server Service Pack 3, Service Pack 4![](../../images/Dn609970.mu_s(ja-JP,Security.10).gif) | [![](../../images/Dn609970.dl_arrow(ja-JP,Security.10).jpg)](http://www.microsoft.com/downloads/details.aspx?familyid=40146b52-5546-489e-857e-01fe1ef709b2&displaylang=ja) | [![](../../images/Dn609970.dl_arrow(ja-JP,Security.10).jpg)](http://www.microsoft.com/downloads/details.aspx?familyid=40146b52-5546-489e-857e-01fe1ef709b2&displaylang=ja-nec) |
| Microsoft Windows Server® 2003![](../../images/Dn609970.mu_s(ja-JP,Security.10).gif)                               | [![](../../images/Dn609970.dl_arrow(ja-JP,Security.10).jpg)](http://www.microsoft.com/downloads/details.aspx?familyid=10836f38-a38b-47d5-b87b-18d8e26eefaa&displaylang=ja) | -                                                                                                                                                                                                     |
| Microsoft Windows Server 2003, 64-Bit Edition![](../../images/Dn609970.mu_s(ja-JP,Security.10).gif)                | [![](../../images/Dn609970.dl_arrow(ja-JP,Security.10).jpg)](http://www.microsoft.com/downloads/details.aspx?familyid=06cf9e85-c66d-4a7d-b2eb-99de9423b60f&displaylang=ja) |                                                                                                                                                                                                       |

![](../../images/Dn609970.dl_arrow(ja-JP,Security.10).jpg)このマークをクリックして、PC/AT 互換機用または NEC PC-9800 シリーズ用の更新プログラムをダウンロードしてください。
更新プログラムをダウンロードおよびインストールする方法は、[更新プログラムのダウンロード方法](http://www.microsoft.com/japan/security/bulletins/dcsteps_vista.mspx)および[更新プログラムのインストール方法](http://www.microsoft.com/japan/security/bulletins/instsecupdate_vista.mspx)をご覧ください。

![](../../images/Dn609970.mu_s(ja-JP,Security.10).gif)このマークの付いている更新プログラムは [Microsoft Update](http://update.microsoft.com/microsoftupdate/) からインストールすることもできます。
Microsoft Update の利用方法については以下のサイトを参照してください。

-   Microsoft Update 利用の手順  
    <http://www.microsoft.com/japan/athome/security/update/j_musteps.mspx>

**影響を受けないソフトウェア :**

-   Microsoft Windows 2000 Professional Service Pack 3 および Microsoft Windows 2000 Professional Service Pack 4
-   Microsoft Windows XP Service Pack 1 および Microsoft Windows XP Service Pack 2
-   Windows XP 64-Bit Edition Service Pack 1
-   Microsoft Windows XP 64-Bit Edition Version 2003
-   Microsoft Windows 98、Microsoft Windows 98 Second Edition (SE)、および Microsoft Windows Millennium Edition (Me)

上記のソフトウェアのテストを行い、この脆弱性による影響を評価しました。それ以前のバージョンに関してはサポートの対象となっていないため、この脆弱性による影響は不明です。

ご使用中の製品およびバージョンのサポート ライフ サイクルを確認するためには、[マイクロソフト サポート ライフサイクル](http://support.microsoft.com/lifecycle/) の Web サイトをご覧下さい

### 詳細

要点
----

 
この更新プログラムは新たに確認され、報告されたいくつかの脆弱性を解決します。各脆弱性はこのセキュリティ情報の「脆弱性の詳細」欄に説明されています。

攻撃者が、これらの脆弱性の最も深刻なものを悪用した場合、プログラムのインストール、データの表示、変更、削除または完全な特権を持つ新しいアカウントの作成など、影響を受けるコンピュータを完全に制御する可能性があります。

WINS の管理者はできる限り早期にこの更新プログラムを適用することを推奨いたします。

**深刻度および脆弱性識別番号 :**

| 脆弱性識別番号                                                                                                           | 脆弱性の影響                 | Windows NT 4.0 Server | Windows 2000 Server | Windows Server 2003 |
|--------------------------------------------------------------------------------------------------------------------------|------------------------------|-----------------------|---------------------|---------------------|
| 名前の検証の脆弱性 - [CAN-2004-0567](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=can-2004-0567)                    | リモートでコードが実行される | 重要                  | 重要                | 重要                |
| アソシエーション コンテキストの脆弱性 - [CAN-2004-1080](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=can-2004-1080) | リモートでコードが実行される | 重要                  | 重要                | 重要                |
| すべての脆弱性の総合的な深刻度                                                                                           |                              | 重要                  | 重要                | 重要                |

上記の[評価](http://technet.microsoft.com/security/bulletin/rating)はこの脆弱性の影響を受けるシステムの種類、システムの典型的な展開形式およびこの脆弱性がシステムに及ぼす影響に基づいています。

このセキュリティ更新プログラムに関するよく寄せられる質問
--------------------------------------------------------

 
**なぜこの更新プログラムはいくつかの報告されたセキュリティ上の脆弱性を解決するのですか?**

この更新プログラムに関連するファイルに、いくつかの問題を解決するために必要な変更が存在したため、この更新プログラムにはこれらの脆弱性対策が含まれています。ユーザーは、ほぼ同一のファイルを含むいくつもの更新プログラムをインストールする代わりに、この更新プログラムのみをインストールすることができます。

**この更新プログラムにより何が置き換えられますか?**

このセキュリティ更新プログラムにより、以前にリリースされた更新プログラムが置き換えられます。 影響を受けるセキュリティ情報の ID 番号およびオペレーティングシステムのバージョンを次の表に記載します。

| セキュリティ情報番号                                                | Windows NT 4.0 | Windows 2000 | Windows XP | Windows Server 2003 |
|---------------------------------------------------------------------|----------------|--------------|------------|---------------------|
| [MS04-006](http://technet.microsoft.com/security/bulletin/ms04-006) | 置き換わる     | 置き換わる   | 対象外     | 置き換わる          |

**Microsoft Windows 2000 Service Pack 2を現在も使用していますが、2004年 6 月 30 日で延長されたセキュリティ更新プログラムのサポートが終了しました。どうしたらよいでしょうか？**

以前から説明してあるとおり、Windows 2000 Service Pack 2 は、ライフサイクルの延長サポートを終了しました。今後の脆弱性の影響を受ける可能性を防ぐため、このオペレーティングシステムを使用しているお客様は、サポート対象のバージョンに移行することを強く推奨します。Windows 製品のサポート ライフサイクルに関する詳細情報は、[マイクロソフト サポート ライフサイクル](http://support.microsoft.com/gp/lifecycle)をご覧下さい。このオペレーティングシステムのバージョンについて、延長されたセキュリティ更新プログラムのサポート期間に関する詳細情報は、[マイクロソフトプロダクト サポート サービス Web サイト](http://support.microsoft.com/gp/lifeanoct2003) をご覧下さい。

詳細情報は、[Windows オペレーティング システム FAQ](http://support.microsoft.com/gp/lifewinfaq) をご覧下さい。

**Microsoft Baseline Security Analyzer (MBSA) を使用して、この更新プログラムが必要であるかどうかを確認することはできますか?**

はい。MBSA により、この更新プログラムが必要かどうかを確認することができます。MBSA に関する詳細は、[Microsoft Baseline Security Analyzer](http://technet.microsoft.com/ja-jp/security/cc184924.aspx) の Web サイトをご覧下さい。

注 : 2004 年 7 月 14 日をもって、以前のバージョンの SMS 2.0 Software Update Services Feature Pack、 SMS 2003 Software Update Scanning Tools、MBSA 1.1.1 および、それ以前のバージョンによって使用される Mssecure.xml ファイルの更新を終了するしたため、2004 年 7 月 15 日以降、新たなセキュリティ情報のデータでが更新されていません。そのため、2004 年 7 月 15 日以降、MBSA 1.1.1 またはそれ以前のバージョンのデータで行われるスキャンは、不完全となる場合がございます。 MBSA 1.2 でより正確なセキュリティ更新プログラムの検出が行われ、サポートされる製品もより多いため、すべてのユーザーは、MBSA 1.2 にアップグレードをすることを推奨いたします。MBSA 1.2 は、MBSA Web サイト からダウンロードすることができます。MBSA のサポートに関する詳細は、[Microsoft Baseline Security Analyzer (MBSA) Version 1.2 Q&A](http://technet.microsoft.com/ja-jp/security/cc184924.aspx) をご覧ください。

**Systems Management Server (SMS) を使用して、この更新プログラムが必要であるかどうかを確認することはできますか?**

はい。 SMS は、このセキュリティ更新プログラムを検出し、展開する支援をします。SMS に関する情報は [SMS の Web サイト](http://www.microsoft.com/japan/smserver/default.mspx)をご覧下さい。Microsoft Windows およびそのほかの影響を受けるマイクロソフト製品を検出するために、Security Update Inventory Tool が必要となります。Security Update Inventory Tool に関する詳細情報は、マイクロソフト サポート技術情報 [306460](http://support.microsoft.com/kb/306460) をご覧下さい。

脆弱性の詳細
------------

 
#### 名前の検証の脆弱性 - CAN-2004-0567:

WINS のコンピュータ名の検証を処理する方法に、リモートでコードが実行される脆弱性が存在します。攻撃者が悪質なネットワーク パケットを作成することによってこの脆弱性を悪用し、それにより影響を受けるコンピュータでリモートでコードが実行される可能性があります。攻撃者はこの脆弱性を悪用し、影響を受けるコンピュータを完全に制御する可能性があります。

#### 「名前の検証の脆弱性」の問題を緩和する要素 - CAN-2004-0567:

-   ファイアウォールによる最善策および標準のファイアウォールの既定の構成により、ネットワーク境界の外部から行われる攻撃からネットワークを保護することができます。インターネットに接続したコンピュータでは、最低限の数のポートを開くようにすることが最善策として推奨されます。
-   既定で、WINS は Windows NT Server 4.0、Windows NT Server 4.0 Terminal Server Edition、Windows 2000 Server および Windows Server 2003 にはインストールされません。しかし、既定で、Microsoft Small Business Server のすべてのバージョンでは、WINS コンポーネントの通信ポートはインターネットからブロックされ、WINS はローカル ネットワークでのみ利用可能です。
-   Windows 2003 では、この脆弱性が悪用された場合、ほとんどの場合がサービス拒否の影響を受ける可能性があります。WINS サービスは異常終了した場合、自動的に再起動します。3 回目の自動での再起動の後、WINS は機能を復元するためには手動の再起動が必要になります。

#### 「名前の検証の脆弱性」の回避策 - CAN-2004-0567:

マイクロソフトは次の回避策のテストを行ないました。これらの回避策は根本的な脆弱性を修正しませんが、既知の攻撃の方法を阻止する手助けとなります。回避策は機能の低下の原因となる場合もあります。

-   TCP ポート 42 および UDP ポート 42 をファイアウォールでブロックする
    これらのポートは、WINS サーバーとの接続を開始するために使用されます。ファイアウォールでこれらのポートをブロックすると、ファイアウォールの背後のコンピュータを、この脆弱性を悪用した攻撃から保護することができます。この脆弱性の悪用を目的としてそのほかのポートが悪用される可能性があります。記載されているポートは最も一般的な攻撃の方法です。マイクロソフトは受信者側が要求していないすべてのインターネットからの通信をブロックすることを推奨します。
-   必要でない場合、WINS を削除する
    多くの組織では、WINS は、レガシ システムにサービスを提供するのみです。WINS が必要なくなった場合、以下の手順に従って、削除することができます。これらのステップは、Windows 2000 またはそれ以降のバージョンにのみ該当します。Windows NT 4.0 では、製品の説明書に記載されている手順に従ってください。

    WINS コンポーネントおよびサービスを設定するには、以下の手順に従ってください。

    1.  **\[スタート\]** をクリックし、次に **\[コントロールパネル\]** をクリックし、**\[プログラムの追加と削除\]** をクリックします。
    2.  既定の **\[カテゴリの表示\]** で、**\[プログラムの追加と削除\]** をクリックします。
    3.  **\[Windows コンポーネントの追加と削除\]** をクリックします。
    4.  **\[Windows コンポーネントウィザード\]** ページの **\[コンポーネント\]** で **\[ネットワークサービス \]** をクリックし、**\[詳細\]** をクリックします。
    5.  **Windows Internet Naming Service (WINS)** のチェック ボックスのチェックを外し、WINS を削除します。
    6.  Windows コンポーネント ウィザードの指示に従い、ウィザードを完了します。

    **回避策の影響 :** 多くの組織が、その組織のネットワークで、名前の登録および名前解決の機能を実行するために WINS を必要とします。管理者は、WINS の削除によるネットワークへの影響を完全に理解していない限り、WINS を削除しないでください。WINS に関する詳細は、[WINS の製品ドキュメンテーション](http://technet2.microsoft.com/windowsserver/en/library/7641eea2-16e8-49b0-8387-e8c67da40ef71033.mspx) をご覧ください。また、管理者が WINS の機能を、ネットワークで共有リソースの提供を継続するサーバーから削除する場合、管理者は、ローカルネットワークで残っている名前解決サービスを使用するために、正しくコンピュータを構成する必要があります。

    WINS に関する詳細は、次の [Web サイト](http://technet2.microsoft.com/windowsserver/en/library/7641eea2-16e8-49b0-8387-e8c67da40ef71033.mspx)をご覧下さい。NETBIOS または WINS の名前解決が必要であるかどうかを確認する方法および DNS の構成に関する詳細情報は、次の [Web サイト](http://technet2.microsoft.com/windowsserver/en/library/55f0dfc8-afc9-4096-82f4-b8345eaa1dbd1033.mspx?mfr=true) (英語情報) をご覧下さい。

-   **Windows 2000 Server および Windows Server 2003 で、IPSec 通信を使用し、WINS サーバー複製パートナー間のトラフィックをセキュアにする**

    Internet Protocol Security (IPSec) を使用し、ネットワーク通信をセキュリティで保護することができます。
    IPSec を使用して WINS をこの問題から保護する方法に関する詳細は、マイクロソフト サポート技術情報 [890710](http://support.microsoft.com/kb/890710) をご覧下さい。
    IPSec およびフィルタの適用方法に関する詳細は、マイクロソフト サポート技術情報[313190](http://support.microsoft.com/kb/313190)および[813878](http://support.microsoft.com/kb/813878) をご覧ください。

    **回避策の影響 :**IPSec のセット アップが正しくない場合、企業ネットワークで深刻な WINS の複製問題を引き起こす原因となる場合があります。

#### 名前の検証の脆弱性のよく寄せられる質問 - CAN-2004-0567

**どのようなことが起こる可能性がありますか?**

これはリモートでコードが実行される脆弱性です。 この脆弱性により、攻撃者はプログラムのインストール、データの表示、変更、削除または完全な特権を持つ新しいアカウントの作成など、影響を受けるコンピュータを完全に制御する可能性があります。Windows Server 2003 で、最も可能性の高い攻撃のシナリオは、Windows Server 2003 での[サービス拒否](http://www.microsoft.com/japan/security/glossary.mspx)です。 この脆弱性で、攻撃者により WINS が Windows Server 2003 で異常終了させられる可能性があります。WINS が異常終了した場合、Windows Server 2003 ではWINS は自動的に再起動します。 3 回自動で再起動した後、WINS は機能を復元するためには手動の再起動を必要とします。 WINS を再起動すると、サービスが正しく機能します。 しかし、WINS は別のサービス拒否攻撃の影響を受けるままとなる可能性があります。

**何が原因で起こりますか?**

WINS が特別な細工をされたパケットの名前の値を検証するために使用する方法に未チェックのバッファが存在するため、この脆弱性が起こります。Windows Server 2003 でのサービス拒否の可能性は、Windows Server 2003 の開発で使用されたセキュリティ機能の存在によるものです。 このセキュリティ機能は、スタック ベースのバッファ オーバーランの悪用が試行されるとそれを検出し、容易に悪用される可能性を低減します。 このセキュリティ機能は、悪質なコードの実行を防ぐため、強制的にサービスを終了させられる場合があります。 Windows Server 2003 で、バッファ オーバーランの悪用が試行される場合、このセキュリティ機能が反応し、サービスを終了します。 結果として、WINS がサービス拒否の状態となります。 このセキュリティ機能を無視し、コードを実行する方法が今後確認される可能性があるため、お客様はこの更新プログラムを適用する必要があります。 これらのセキュリティ機能に関する詳細情報は、次の [Web サイト](http://msdn2.microsoft.com/en-us/library/aa290051(vs.71).aspx) (英語情報) をご覧ください。

**Windows インターネットネームサービスとは何ですか?**

Windows インターネット ネーム サービス (WINS) は IP アドレスを NetBIOS コンピュータ名などにマップします。またその逆も行います。 WINS サーバーを使用することにより、ユーザーが IP アドレスではなく、コンピュータ名でリソースを検索することができます。 WINSの利点は次の通りです。

-   クライアントにリモート システムを見つけるために WINS サーバーをクエリすることを許可することにより、サブネットでの NetBIOS ベースのブロードキャスト トラフィックを削減する。
-   ネットワークの初期の Windows および NetBIOS ベースのクライアントに、各サブネットのローカル ドメイン コントローラを必要とせずに、リモート Windows ドメインの一覧をブラウズすることを許可することにより、これらのクライアントをサポートする。
-   WINS の参照の統合が実装されている場合、これらのクライアントに NetBIOS リソースを検索させることにより、ドメイン ネーム システム (DNS) ベースのクライアントをサポートする。

WINS に関する詳細は、[WINS の製品ドキュメンテーション](http://technet2.microsoft.com/windowsserver/en/library/7641eea2-16e8-49b0-8387-e8c67da40ef71033.mspx) をご覧ください。

**サーバーで WINS が使用されているかどうかをどのように確認するのですか?**

既定で、WINS は Windows NT Server 4.0、Windows NT Server 4.0 Terminal Server Edition、Windows 2000 Server、または Windows Server 2003 にインストールされません。既定で WINS は Microsoft Small Business Server 2000 および Microsoft Windows Small Business Server 2003 にインストールされ、実行されます。次の手順に従うことにより、WINS がインストールされているかどうかを確認することができます。 これらのステップは、Windows 2000 またはそれ以降のバージョンにのみ該当します。 Windows NT 4.0 では、製品の説明書に記載されている手順に従ってください。

WINS コンポーネントおよびサービスを確認するためには、以下の手順に従ってください。

1.  \[スタート\] をクリックし、次に \[コントロール パネル\] をクリックし、\[プログラムの追加と削除\] をクリックします。
2.  既定の \[カテゴリの表示\] で、\[プログラムの追加と削除\] をクリックします。
3.  \[Windows コンポーネントの追加と削除\] をクリックします。
4.  \[Windows コンポーネント ウィザード\] ページの \[コンポーネント\] で \[ネットワーク サービス \] をクリックし、\[詳細\] をクリックします。
5.  Windows インターネット ネーム サービス (WINS) のチェック ボックスが WINS がインストールされているかどうかを示しています。
6.  \[キャンセル\] を数回クリックし、\[Windows コンポーネントの追加と削除\] を閉じます。

**攻撃者はこの脆弱性により何を行う可能性がありますか?**

攻撃者はこの脆弱性を悪用し、そのコンピュータの完全制御を取得する可能性があります。 この脆弱性を悪用しで、攻撃者は Windows Server 2003 の WINS にすべてのリクエストへの応答を停止させる可能性があります。

**誰がこの脆弱性を悪用する可能性がありますか?**

この脆弱性の影響を受けるコンピュータに、綿密な細工をしたメッセージを送信できる匿名ユーザーが、この脆弱性を悪用する可能性があります。 影響を受けるポートを使用することにより影響を受けるコンピュータと接続を確立できるユーザーが、この脆弱性を悪用する可能性があります。

**攻撃者はどのようにこの脆弱性を悪用する可能性がありますか?**

攻撃者は特別な細工をしたネットワーク メッセージを作成し、そのメッセージを影響を受けるコンピュータに送ることにより、この脆弱性を悪用しようとする可能性があります。 Windows Server 2003 で、このようなメッセージを受け取ると、サーバーが異常終了し、サービス拒否が起こる可能性があります。

**主にどのコンピュータがこの脆弱性の影響を受けますか?**

WINS サーバーとして構成されている Windows コンピュータのみがこの脆弱性の影響を受けます。 Windows 2000 Professional および Windows XP は WINS サーバーとして構成できません。このため、これらのオペレーティング システムはこの脆弱性による影響を受けません。

**この脆弱性がインターネットから悪用される可能性はありますか?**

はい。攻撃者はこの脆弱性をインターネット上で悪用する可能性があります。ファイアウォールに関する最善策をとり、標準的な既定のファイアウォール構成を実施することにより、インターネット経由での攻撃からコンピュータを保護することができます。マイクロソフトは どのようにコンピュータを保護するかについての情報を提供しています。IT プロフェッショナルは、[セキュリティ ガイダンス センターの Web サイト](http://www.microsoft.com/japan/security/guidance/default.mspx) をご覧ください。

**この累積的な更新プログラムは何を修正しますか?**

この更新プログラムは、WINS が割り当てられたバッファに値を渡す前に名前の値を検証するために使用する方法を変更することにより、この脆弱性を排除します。

**このセキュリティ情報のリリース時に、この脆弱性は一般に公開されていたのですか?**

いいえ。マイクロソフトは信頼される情報元からこの脆弱性に関する情報を受けました。マイクロソフトは、このセキュリティ情報が最初にリリースされた際に、この脆弱性が一般に公開されていたことを示す情報を受けていませんでした。

**このセキュリティ情報のリリース時に、マイクロソフトはこの脆弱性が悪用されたという報告を受けていましたか?**

いいえ。このセキュリティ情報が最初にリリースされた段階で、マイクロソフトはこの脆弱性が悪用され、お客様が攻撃されたということを示す情報は受けておらず、また、公開された検証用コードのいかなる実例の存在も確認しておりません。

**この脆弱性は MS04-006 で対処されている WINS の脆弱性とどのような関連がありますか？**

2 つとも WINS に存在する脆弱性です。しかし、今回の更新プログラムは、MS04-006 では対応していない新しい脆弱性を解決します。MS04-006 は MS04-006 で説明された脆弱性に対する保護の手助けとなりますが、この新しい脆弱性は解決しません。 この更新プログラムは MS04-006 を置き換えるものです。両方の脆弱性に対しコンピュータを保護するために、この更新プログラムをインストールすることができます。

#### アソシエーション コンテキストの脆弱性 - CAN-2004-1080:

攻撃者が悪質なネットワーク パケットを作成することによってこの脆弱性を悪用し、それにより影響を受けるコンピュータで、リモートでコードが実行される可能性があります。攻撃者はこの脆弱性を悪用し、影響を受けるコンピュータを完全に制御する可能性があります。しかし、Windows 2003 Server では、この脆弱性が悪用された場合、サービス拒否の現象を引き起こす可能性が高いでしょう。機能を再開するためには、サービスを再起動する必要があります。

#### 「アソシエーション コンテキストの脆弱性」の問題を緩和する要素 － CAN-2004-1080:

-   ファイアウォールによる最善策および標準のファイアウォールの既定の構成により、ネットワーク境界の外部から行われる攻撃からネットワークを保護することができます。ンターネットに接続したコンピュータでは、最低限の数のポートを開くようにすることが最善策として推奨されます。
-   既定で、WINS は Windows NT Server 4.0、Windows NT Server 4.0 Terminal Server Edition、Windows 2000 Server および Windows Server 2003 にはインストールされません。既定で、WINS は Microsoft Small Business Server 2000 および Microsoft Windows Small Business Server 2003 にインストールされ、実行されます。しかし、既定で、Microsoft Small Business Server のすべてのバージョンでは、WINS コンポーネントの通信ポートはインターネットからブロックされ、WINS はローカル ネットワークでのみ利用可能です。
-   すべての影響を受けるオペレーティング システムでは、この脆弱性が悪用された場合、ほとんどの場合がサービス拒否の影響を受ける可能性があります。Windows Server 2003 で、WINS サービスが異常終了した場合、自動的に再起動されます。3 回目の自動での再起動の後、WINS は機能を復元するためには手動の再起動が必要となります。

#### 「アソシエーション コンテキストの脆弱性」の回避策 - CAN-2004-1080:

マイクロソフトは次の回避策のテストを行ないました。これらの回避策は根本的な脆弱性を修正しませんが、既知の攻撃の方法を阻止する手助けとなります。回避策は機能の低下の原因となる場合もあります。

-   **TCP ポート 42 および UDP ポート 42 をファイアウォールでブロックする**

    これらのポートは、WINS サーバーとの接続を開始するために使用されます。ファイアウォールでこれらのポートをブロックすると、ファイアウォールの背後のコンピュータを、この脆弱性を悪用した攻撃から保護することができます。この脆弱性の悪用を目的としてそのほかのポートが悪用される可能性があります。記載されているポートは最も一般的な攻撃の方法です。マイクロソフトは受信者側が要求していないすべてのインターネットからの通信をブロックすることを推奨します。

-   **必要でない場合、WINS を削除する**

    多くの組織では、WINS は、レガシ システムにサービスを提供するのみです。 WINS が必要なくなった場合、以下の手順に従って、削除することができます。これらのステップは、Windows 2000 またはそれ以降のバージョンにのみ該当します。Windows NT 4.0 では、製品の説明書に記載されている手順に従ってください。

    WINS コンポーネントおよびサービスを設定するには、以下の手順に従ってください。

    1.  **\[スタート\]** をクリックし、次に **\[コントロールパネル\]** をクリックし、**\[プログラムの追加と削除\]** をクリックします。
    2.  既定の **\[カテゴリの表示\]** で、**\[プログラムの追加と削除\]** をクリックします。
    3.  **\[Windows コンポーネントの追加と削除\]** をクリックします。
    4.  **\[Windows コンポーネントウィザード\]** ページの **\[コンポーネント\]** で **\[ネットワークサービス \]** をクリックし、**\[詳細\]** をクリックします。
    5.  **Windows Internet Naming Service (WINS)** のチェック ボックスのチェックを外し、WINS を削除します。
    6.  Windows コンポーネント ウィザードの指示に従い、ウィザードを完了します。

    **回避策の影響 :**多くの組織が、その組織のネットワークで、名前の登録および名前解決の機能を実行するために WINS を必要とします。 管理者は、WINS の削除によるネットワークへの影響を完全に理解していない限り、WINS を削除しないでください。 WINS に関する詳細は、[WINS の製品ドキュメンテーション](http://technet2.microsoft.com/windowsserver/en/library/7641eea2-16e8-49b0-8387-e8c67da40ef71033.mspx) をご覧ください。 また、管理者が WINS の機能を、ネットワークで共有リソースの提供を継続するサーバーから削除する場合、管理者は、ローカルネットワークで残っている名前解決サービスを使用するために、正しくコンピュータを構成する必要があります。WINS に関する詳細は、次の[Web サイト](http://www.microsoft.com/japan/technet/security/bulletin/)をご覧下さい。 NETBIOS または WINS の名前解決が必要であるかどうかを確認する方法および DNS の構成に関する詳細情報は、次の[Web サイト](http://technet2.microsoft.com/windowsserver/en/library/55f0dfc8-afc9-4096-82f4-b8345eaa1dbd1033.mspx?mfr=true) (英語情報) をご覧下さい。

-   **Windows 2000 Server および Windows Server 2003 で、IPSec 通信を使用し、WINS サーバー複製パートナー間のトラフィックをセキュアにする**

    Internet Protocol Security (IPSec) を使用し、ネットワーク通信をセキュリティで保護することができます。
    IPSec を使用して WINS をこの問題から保護する方法に関する詳細は、マイクロソフト サポート技術情報 [890710](http://support.microsoft.com/kb/890710) をご覧下さい。
    IPSec およびフィルタの適用方法に関する詳細は、マイクロソフト サポート技術情報[313190](http://support.microsoft.com/kb/313190)および[813878](http://support.microsoft.com/kb/813878) をご覧ください。

    **回避策の影響 :** IPSec を不正確にセット アップした場合、企業ネットワークで深刻な WINS の複製の問題の原因となる場合があります。

#### 「アソシエーション コンテキストの脆弱性」のよく寄せられる質問 - CAN-2004-1080

**どのようなことが起こる可能性がありますか?**

これはリモートでコードが実行される脆弱性です。 この脆弱性により、攻撃者はプログラムのインストール、データの表示、変更、削除または完全な特権を持つ新しいアカウントの作成など、影響を受けるコンピュータを完全に制御する可能性があります。 Windows Server 2003 で、最も可能性の高い攻撃のシナリオは[サービス拒否](http://www.microsoft.com/japan/security/glossary.mspx)です。

Windows Server 2003 では、WINS が異常終了した場合、自動的に再起動します。 3 回目の自動での再起動の後、WINS は機能を復元するため、手動の再起動を必要とします。 WINS を再起動すると、サービスが正しく機能します。 しかし、WINS は依然として別のサービス拒否攻撃の影響を受ける可能性があります。

**何が原因で起こりますか?**

WINS がアソシエーション コンテキストのデータを検証するために使用する方法のために、この脆弱性が起こります。

**Windows インターネットネームサービスとは何ですか?**

Windows インターネット ネーム サービス (WINS) は IP アドレスを NetBIOS コンピュータ名にマップします。またその逆も行います。 WINS サーバーを使用することにより、個人が IP アドレスではなく、コンピュータ名でリソースを検索することができます。 WINSの利点は次の通りです。

-   クライアントにリモート システムを見つけるために WINS サーバーをクエリすることを許可することにより、サブネットでの NetBIOS ベースのブロードキャスト トラフィックを削減する。
-   ネットワークの初期の Windows および NetBIOS ベースのクライアントに、各サブネットのローカル ドメイン コントローラを必要とせずに、リモート Windows ドメインの一覧をブラウズすることを許可することにより、これらのクライアントをサポートする。
-   WINS の参照の統合が実装されている場合、これらのクライアントに NetBIOS リソースを検索させることにより、ドメイン ネーム システム (DNS) ベースのクライアントをサポートする。

WINS に関する詳細は、[WINS の製品ドキュメンテーション](http://technet2.microsoft.com/windowsserver/en/library/7641eea2-16e8-49b0-8387-e8c67da40ef71033.mspx) をご覧ください。

**サーバーで WINS が使用されているかどうかをどのように確認するのですか?**

既定で、WINS は Windows NT Server 4.0、Windows NT Server 4.0 Terminal Server Edition、Windows 2000 Server、または Windows Server 2003 にインストールされません。既定で WINS は Microsoft Small Business Server 2000 および Microsoft Windows Small Business Server 2003 にインストールされ、実行されます。次の手順に従うことにより、WINS がインストールされているかどうかを確認することができます。 これらのステップは、Windows 2000 またはそれ以降のバージョンにのみ該当します。 Windows NT 4.0 では、製品の説明書に記載されている手順に従ってください。

WINS コンポーネントおよびサービスを確認するためには、以下の手順に従ってください。

1.  \[スタート\] をクリックし、次に \[コントロール パネル\] をクリックし、\[プログラムの追加と削除\] をクリックします。
2.  既定の \[カテゴリの表示\] で、\[プログラムの追加と削除\] をクリックします。
3.  \[Windows コンポーネントの追加と削除\] をクリックします。
4.  \[Windows コンポーネント ウィザード\] ページの \[コンポーネント\] で \[ネットワーク サービス \] をクリックし、\[詳細\] をクリックします。
5.  Windows インターネット ネーム サービス (WINS) のチェック ボックスが WINS がインストールされているかどうかを示しています。
6.  \[キャンセル\] を数回クリックし、\[Windows コンポーネントの追加と削除\] を閉じます。

**アソシエーションコンテキストとは何ですか?**

アソシエーション コンテキストとは、WINS が WINS の複製パートナーに関する接続情報を保存するためのデータ構造です。

**WINS がアソシエーションコンテキストを検証する方法の何が問題となっていますか?**

攻撃者が特別な細工をしたパケットと無効なアソシエーション コンテキストのデータを送る可能性があります。 WINS はこのデータを完全に検証せずに使用します。これにより、ほとんどの場合 WINS のサービスが異常終了する状態が起こります。

**この脆弱性により、攻撃者は何を行う可能性がありますか?**

攻撃者はこの脆弱性を悪用し、そのコンピュータの完全制御を取得する可能性があります。しかし、最も高い可能性として、攻撃者は WINS に Windows Server 2003 でのすべてのリクエストへの応答を停止させる可能性があります。

**誰がこの脆弱性を悪用する可能性がありますか?**

この脆弱性の影響を受けるサーバーの WINS に、特別な細工をしたメッセージを送信できる匿名ユーザーが、この脆弱性を悪用する可能性があります。影響を受けるポートを使用することにより影響を受けるコンピュータと接続を確立できるユーザーが、この脆弱性を悪用する可能性があります。

**どのように攻撃者はこの脆弱性を悪用する可能性がありますか?**

攻撃者は特別な細工をしたネットワーク メッセージを作成し、そのメッセージを、影響を受けるコンピュータに送ることにより、この脆弱性を悪用しようとする可能性があります。このようなメッセージが受け取られると、サービスが異常終了し、ほとんどの場合、サービス拒否が起こる可能性があります。

**主にどのようなコンピュータがこの脆弱性による危険にさらされますか?**

WINS サーバーとして構成されている Windows コンピュータのみがこの脆弱性の影響を受けます。 Windows 2000 Professional および Windows XP は WINS サーバーとして構成できません。このため、これらのオペレーティング システムはこの脆弱性による影響を受けません。

**この脆弱性がインターネットから悪用される可能性はありますか?**

はい。攻撃者はこの脆弱性をインターネット上で悪用する可能性があります。ファイアウォールに関する最善策をとり、標準的な既定のファイアウォール構成を実施することにより、インターネット経由での攻撃からコンピュータを保護することができます。マイクロソフトはどのようにコンピュータを保護するかについての情報を提供しています。IT プロフェッショナルは、[セキュリティ ガイダンス センターの Web サイト](http://www.microsoft.com/japan/security/guidance/default.mspx) をご覧ください。

**この更新プログラムは何を修正しますか?**

この更新プログラムは WINS がアソシエーション コンテキストを使用する前にそれを検証するために使用する方法を変更することにより、この脆弱性を排除します。

**このセキュリティ情報のリリース時に、この脆弱性は一般に公開されていたのですか?**

はい。 この脆弱性は一般に公開されていました。 これは Common Vulnerability and Exposure の CAN-2004-1080 にアサインされています。 しかし、マイクロソフトは信頼される情報元からもこの脆弱性に関する情報を受け、このセキュリティ情報において確認を受けました。

**このセキュリティ情報のリリース時に、マイクロソフトはこの脆弱性が悪用されたという報告を受けていましたか?**

いいえ。マイクロソフトは、このセキュリティ情報が最初にリリースされた時に、公開された検証用コード例の存在を確認していましたが、この脆弱性が悪用され、お客様が攻撃されたということを示す情報は受けていませんでした。

**このセキュリティ更新プログラムの適用はこの脆弱性を悪用する公開されているコードから顧客を保護する手助けとなりますか?**

はい。 このセキュリティ更新プログラムは、現在悪用される可能性のある脆弱性を解決します。 解決される脆弱性は Common Vulnerability and Exposure の番号 [CAN-2004-1080](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=can-2004-1080) に割り当てられています。

**この脆弱性は MS04-006 で対処されている WINS の脆弱性とどのような関連がありますか？**

2 つとも WINS に存在する脆弱性です。しかし、今回の更新プログラムは、MS04-006 では対応していない新しい脆弱性を解決します。MS04-006 は MS04-006 で説明された脆弱性に対する保護の手助けとなりますが、この新しい脆弱性は解決しません。この更新プログラムは MS04-006 を置き換えるものです。両方の脆弱性に対しコンピュータを保護するために、この更新プログラムをインストールすることができます。

セキュリティ更新プログラムに関する情報
--------------------------------------

 
**対象プラットフォームおよび必要条件 :**

以下の情報の中から、ご使用のプラットフォーム向けのセキュリティ更新プログラムに関する情報をご覧ください。

#### Windows Server 2003 (すべてのバージョン)

**必要条件 :**

このセキュリティ更新プログラムを適用するには、Windows Server 2003 の製品版がインストールされている必要があります。

**この修正を含む予定のサービスパック :**

この問題に対する更新プログラムは Windows Server 2003 Service Pack 1 に含まれる予定です。

**インストールに関する情報 :**

このセキュリティ更新プログラムは次のセットアップスイッチをサポートします。

**/help:** インストール スイッチの一覧を表示します  
**セットアップモード**  
**/quiet:** 自動モード (ユーザー入力を必要としません。表示もしません)  
**/passive:** 無人モード (進行状況バーのみ)  
**/uninstall:** パッケージをアンインストールします  

**再起動オプション**  
**/norestart:** インストールの完了後、再起動しません  
**/forcerestart:** インストール後、再起動します  

**特別なオプション**  
**/l:** インストール済みの Windows ホットフィックスまたは更新パッケージを表示します  
**/o:** 確認メッセージを表示せずに OEM ファイルを上書きします  
**/n:** アンインストールに必要なファイルのバックアップを作成しません  
**/f:** シャットダウン時に他のプログラムを強制終了します  
**/integrate:&lt;完全なパス&gt;**: このソフトウェア更新を &lt;完全なパス&gt; に統合します  
**/extract:** セットアップを起動せずにファイルを抽出します  

**注 :**  これらのスイッチを 1 つのコマンド ラインに組み込むことができます。旧バージョンとの互換性のため、このセキュリティ更新プログラムは、セットアップ ユーティリティの以前のバージョンによって使用されるセットアップ スイッチもサポートしています。 サポートされるインストール スイッチについての追加情報は、マイクロソフト サポート技術情報 [262841](http://support.microsoft.com/kb/262841) をご覧ください。

Update.exe インストーラに関する詳細情報は、次の[マイクロソフト TechNet](http://www.microsoft.com/japan/technet/prodtechnol/windowsserver2003/deployment/winupdte.mspx) の Web サイトをご覧ください

**適用に関する情報 :**

ユーザーの操作なしでセキュリティ更新プログラムをインストールするためには、Windows Server 2003 のコマンド プロンプトで次のコマンド ラインを使用してください。

**Windowsserver2003-kb870763-x86-jpn /passive /quiet**

コンピュータを強制的に再起動せずにセキュリティ更新プログラムをインストールするためには、Windows Server 2003 のコマンド プロンプトで次のコマンド ラインを使用してください。

**Windowsserver2003-kb870763-x86-jpn /norestart**

Software Update Services に関するより詳細な情報は以下をご覧ください ：
[Software Update Services の概要](http://www.microsoft.com/japan/windowsserversystem/sus/susoverview.mspx)

**再起動の必要性 :**

この更新プログラムで、再起動を必要としない場合があります。
インストーラによって、必要なサービスが停止され、更新プログラムが適用され、サービスが再起動します。しかし、何らかの理由により、必要なサービスが停止されない場合、または必要なファイルが使用中の場合、この更新プログラムを適用すると、再起動が要求されます。この場合、再起動するメッセージが表示されます。

**削除に関する情報 :**

この更新プログラムを削除するためには、\[コントロールパネル\] の \[プログラムの追加と削除\] を使用してください。

システム管理者は Spuninst.exe ユーティリティを使用し、このセキュリティ更新プログラムを削除することができます。 Spuninst.exe ユーティリティは %Windir%\\$NTUninstallKB870763$\\Spuninst フォルダにあります。Spuninst.exe ユーティリティは次のセットアップ スイッチをサポートします。

**/help**: インストール メッセージの一覧を表示します  

**セットアップモード**  
**/quiet**: QUIET モード (ユーザー入力を必要としません。表示もしません)  
**/passive**: 無人モード (進行状況バーのみ)  

**再起動オプション**  
**/norestart**: インストールの完了後、再起動しません  
**/forcerestart**: インストール後、再起動します  

**特別なオプション**  
**/f**: シャットダウン時に他のプログラムを強制終了します  

**ファイルに関する情報 :**

この更新プログラムの日本語版のファイル属性 (またはそれ以降) は次のとおりです。

Windows Server 2003 Enterprise Edition、Windows Server 2003 Standard Edition、Windows Server 2003 Web Edition、および Windows Server 2003 Datacenter Edition :

| ファイル名 | バージョン   | 日付       | 時間  | サイズ  | フォルダ |
|------------|--------------|------------|-------|---------|----------|
| wins.exe   | 5.2.3790.239 | 2004/12/02 | 12:47 | 144,896 | rtmgdr   |
| wins.exe   | 5.2.3790.239 | 2004/12/02 | 12:47 | 145,408 | rtmqfe   |

Windows Server 2003 64-Bit Enterprise Edition、および Windows Server 2003 64-Bit Datacenter Edition :

| ファイル名 | バージョン   | 日付       | 時間  | サイズ  | プラットフォーム | フォルダ    |
|------------|--------------|------------|-------|---------|------------------|-------------|
| wins.exe   | 5.2.3790.239 | 2004/12/01 | 19:47 | 469,504 | IA-64            | rtmgdr      |
| wwins.exe  | 5.2.3790.239 | 2004/12/01 | 19:47 | 144,896 | x86              | rtmgdr\\wow |
| wins.exe   | 5.2.3790.239 | 2004/12/01 | 19:47 | 469,504 | IA-64            | rtmqfe      |
| wwins.exe  | 5.2.3790.239 | 2004/12/01 | 19:47 | 145,408 | x86              | rtmqfe\\wow |

**注 :**   Windows Server 2003 のコンピュータに、このセキュリティ更新プログラムをインストールするとき、コンピュータ上のアップデート対象ファイルのいずれかが、マイクロソフトの更新プログラムによって過去にアップデートされているかどうかがチェックされます。過去に更新プログラムをインストールして影響を受けるファイルをアップデートしている場合は、RTMQFE ファイルがコンピュータにコピーされます。それ以外の場合は、RTMGDR ファイルがコンピュータにコピーされます。この動作に関する詳細情報は、マイクロソフト サポート技術情報 [824994](http://support.microsoft.com/kb/824994) をご覧ください。

Update.exe インストーラに関する詳細情報は、次の[マイクロソフト TechNet](http://www.microsoft.com/japan/technet/prodtechnol/windowsserver2003/deployment/winupdte.mspx) の Web サイトをご覧ください。

このセキュリティ情報で使用されている用語 （更新プログラムなど） に関しては、マイクロソフト サポート技術情報 [824684](http://support.microsoft.com/kb/824684) をご覧ください。

**更新プログラムが正しくインストールされたかどうか確認する方法 :**

-   **Microsoft Baseline Security Analyzer**

    影響を受けるコンピュータにセキュリティ更新プログラムがインストールされていることを確認するためには、Microsoft Baseline Security Analyzer (MBSA) ツールを使用して下さい。管理者は、一般的なセキュリティ上誤った構成とともに、不足しているセキュリティ更新プログラムについて、ローカル コンピュータおよびリモート コンピュータをMicrosoft Baseline Security Analyzer (MBSA) を使ってスキャンすることができます。MBSA に関する追加情報は、[Microsoft Baseline Security Analyzer](http://technet.microsoft.com/ja-jp/security/cc184924.aspx) の Web サイトをご覧下さい。

-   **ファイルのバージョンの確認**

    **注 :**  Microsoft Windows にはいくつかのバージョンがあるため、次のステップは使用中のコンピュータにより異なる場合があります。その場合、製品の説明書をご覧ください。

    1.  **\[スタート\]** をクリックし、次に **\[検索\]** をクリックします。
    2.  **\[検索結果\]** のウィンドウの **\[検索コンパニオン\]** の下の **\[ファイルとフォルダすべて\]** をクリックします。
    3.  **\[ファイル名のすべてまたは一部\]** のボックスで、適切なファイル情報の表からファイル名を入力し、次に **\[検索\]** をクリックします。
    4.  ファイルの一覧で、適切なファイル情報の表からファイル名を右クリックし、次に **\[プロパティ\]** をクリックします。

        **注 :**  インストールされているオペレーティング システムまたはプログラムのバージョンにより、ファイル情報の表に記載されているファイルで、インストールされないものがある場合もあります。

    5.  **\[バージョン情報\]** タブで、適切なファイル情報の表に記載されているバージョンと比較し、コンピュータにインストールされているファイルのバージョンを確認します。

        **注 :**  ファイルのバージョン以外の属性はインストール中に変更される場合があります。そのほかのファイルの属性をファイル情報の表の情報と比較することは、更新プログラムが正しくインストールされたことを確認する方法としてサポートされていません。また、ファイル名がインストール中に変更される場合があります。ファイルまたはバージョンの情報が存在しない場合、その他の方法によって更新プログラムが正しくインストールされたことを確認して下さい。

-   **レジストリキーの確認**

    また、次のレジストリ キーを調べることにより、このセキュリティ更新プログラムがインストールしたファイルを確認することもできます。

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows Server 2003\\SP1\\KB870763\\Filel

    **注 :**  これらのレジストリ キーには、インストールされるファイルの完全な一覧が含まれない場合があります。また、管理者または OEM メーカーによって 841356 のセキュリティ更新プログラムを Windows インストール ソース ファイルに統合またはスリップストリーム化されている場合、このレジストリ キーが適切に作成されない場合があります。

#### Windows 2000 Server (すべてのバージョン)

**必要条件 :**

Windows 2000 Server にこのセキュリティ更新プログラムを適用するには、Service Pack 3 (SP3) または Service Pack 4 (SP4) がインストールされている必要があります。

上記のソフトウェアのテストを行い、この脆弱性による影響を評価しました。それ以前のバージョンに関してはサポートの対象となっていないため、この脆弱性による影響は不明です。ご使用中の製品およびバージョンのサポートライフ サイクルを確認するためには、[マイクロソフト サポート ライフサイクル](http://support.microsoft.com/lifecycle/)の Web サイトをご覧下さい。

**この修正を含む予定のサービスパック :**

この問題に対する更新プログラムは今後リリースされる更新プログラムのロールアップに含まれる予定です。

**インストールに関する情報 :**

このセキュリティ更新プログラムは次のセットアップ スイッチをサポートします。

**/help**: インストール メッセージの一覧を表示します  

**セットアップモード**  
**/quiet**: QUIET モード (ユーザー入力を必要としません。表示もしません)  
**/passive**: 無人モード (進行状況バーのみ)  
**/uninstall**: パッケージをアンインストールします  

**再起動オプション**  
**/norestart**: インストールの完了後、再起動しません  
**/forcerestart**: インストール後、再起動します  

**特別なオプション**  
**/l**: インストール済みの Windows ホットフィックスまたは更新パッケージを表示します  
**/o**: 確認メッセージを表示せずに OEM ファイルを上書きします  
**/n**: アンインストールに必要なファイルのバックアップを作成しません  
**/f**: シャットダウン時に他のプログラムを強制終了します  
**/integrate:&lt;完全なパス&gt;**: このソフトウェア更新を &lt;完全なパス&gt; に統合します  

**注意 :** Windows 2000 日本語版では /integrate オプションを利用することができません。統合インストールを行いたい場合は、マイクロソフト サポート技術情報 [828930](http://support.microsoft.com/kb/828930) をご確認ください。

**/extract**: セットアップを実行せずにファイルを抽出します

**注 :**   これらのスイッチを 1 つのコマンド ラインに組み込むことができます。旧バージョンとの互換性のため、このセキュリティ更新プログラムは、セットアップ ユーティリティの以前のバージョンによって使用されるセットアップ スイッチもサポートしています。 サポートされるインストール スイッチについての追加情報は、マイクロソフト サポート技術情報 [262841](http://support.microsoft.com/kb/262841) をご覧ください。

Update.exe インストーラに関する詳細情報は、次の[マイクロソフト TechNet](http://www.microsoft.com/japan/technet/prodtechnol/windowsserver2003/deployment/winupdte.mspx) の Web サイトをご覧ください。

このセキュリティ情報で使用されている用語 （更新プログラムなど） に関しては、マイクロソフト サポート技術情報 [824684](http://support.microsoft.com/kb/824684) をご覧ください。

**適用に関する情報 :**

ユーザーの操作なしでセキュリティ更新プログラムをインストールするためには、Windows 2000 Service Pack 3 および Windows 2000 Service Pack 4 のコマンド プロンプトで、次のコマンド ラインを使用してください。

**Windows2000-kb870763-x86-jpn /passive /quiet**

コンピュータを強制的に再起動せずにセキュリティ更新プログラムをインストールするためには、Windows 2000 Service Pack 3、Windows 2000 Service Pack 4 のコマンド プロンプトで次のコマンドラインを使用して下さい。

**Windows2000-kb870763-x86-jpn /norestart**

Software Update Services に関するより詳細な情報は以下をご覧ください ：
[Software Update Services の概要](http://www.microsoft.com/japan/windowsserversystem/sus/susoverview.mspx)

**再起動の必要性 :**

この更新プログラムで、再起動を必要としない場合があります。  
インストーラによって、必要なサービスが停止され、更新プログラムが適用され、サービスが再起動します。しかし、何らかの理由により、必要なサービスが停止されない場合、または必要なファイルが使用中の場合、この更新プログラムを適用すると、再起動が要求されます。この場合、再起動するメッセージが表示されます。

**削除に関する情報 :**

この更新プログラムを削除するためには、\[コントロールパネル\] の \[プログラムの追加と削除\] を使用してください。

システム管理者は Spuninst.exe ユーティリティを使用し、このセキュリティ更新プログラムを削除することができます。 Spuninst.exe ユーティリティは %Windir%\\$NTUninstallKB870763$\\Spuninst フォルダにあります。Spuninst.exe ユーティリティは次のセットアップ スイッチをサポートします。

**/help**: インストール メッセージの一覧を表示します  

**セットアップモード**  
**/quiet**: QUIET モード (ユーザー入力を必要としません。表示もしません)  
**/passive**: 無人モード (進行状況バーのみ)  

**再起動オプション**  
**/norestart**: インストールの終了時、再起動しません  
**/forcerestart**: インストール後、再起動します  

**特別なオプション**  
**/f**: シャットダウン時に他のプログラムを強制終了します  

**ファイルに関する情報 :**  

この更新プログラムの日本語版のファイル属性 (またはそれ以降) は次のとおりです。

**注 :**   日付、時間、ファイル名またはサイズの情報はインストール中に変更される場合があります。インストールの確認方法に関する詳細は「更新プログラムが正しくインストールされたかどうかを確認する方法」の欄をご覧下さい。

Windows 2000 Server Service Pack 3 および Windows 2000 Server Service Pack 4 :

| ファイル名 | バージョン     | 日付       | 時間  | サイズ  |
|------------|----------------|------------|-------|---------|
| wins.exe   | 5.00.2195.7005 | 2004/12/02 | 13:03 | 146,192 |

**更新プログラムが正しくインストールされたかどうか確認する方法 :**

-   **Microsoft Baseline Security Analyzer**

    影響を受けるコンピュータにセキュリティ更新プログラムがインストールされていることを確認するためには、Microsoft Baseline Security Analyzer (MBSA) ツールを使用して下さい。管理者は、一般的なセキュリティ上誤った構成とともに、不足しているセキュリティ更新プログラムについて、ローカル コンピュータおよびリモート コンピュータをMicrosoft Baseline Security Analyzer (MBSA) を使ってスキャンすることができます。MBSA に関する追加情報は、[Microsoft Baseline Security Analyzer](http://technet.microsoft.com/ja-jp/security/cc184924.aspx) の Web サイトをご覧下さい。

-   **ファイルのバージョンの確認**

    **注 :**  Microsoft Windows にはいくつかのバージョンがあるため、次のステップは使用中のコンピュータにより異なる場合があります。その場合、製品の説明書をご覧ください。

    1.  **\[スタート\]** をクリックし、次に **\[検索\]** をクリックします。
    2.  **\[検索結果\]** のウィンドウの **\[検索コンパニオン\]** の下の **\[ファイルとフォルダすべて\]** をクリックします。
    3.  ファイルの一覧で、適切なファイル情報の表からファイル名を右クリックし、次に **\[プロパティ\]** をクリックします。

        **注 :**  インストールされているオペレーティング システムまたはプログラムのバージョンにより、ファイル情報の表に記載されているファイルで、インストールされないものがある場合もあります。

    4.  **\[バージョン情報\]** タブで、適切なファイル情報の表に記載されているバージョンと比較し、コンピュータにインストールされているファイルのバージョンを確認します。

        **注 :**  ファイルのバージョン以外の属性はインストール中に変更される場合があります。そのほかのファイルの属性をファイル情報の表の情報と比較することは、更新プログラムが正しくインストールされたことを確認する方法としてサポートされていません。また、ファイル名がインストール中に変更される場合があります。ファイルまたはバージョンの情報が存在しない場合、その他の方法によって更新プログラムが正しくインストールされたことを確認して下さい。

-   **レジストリキーの確認**

    また、次のレジストリ キーを調べることにより、このセキュリティ更新プログラムがインストールしたファイルを確認することもできます。

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows 2000\\SP5\\KB870763\\Filelist

    **注 :**  これらのレジストリ キーには、インストールされるファイルの完全な一覧が含まれない場合があります。また、管理者または OEM メーカーによって 841356 のセキュリティ更新プログラムを Windows インストール ソース ファイルに統合またはスリップストリーム化されている場合、このレジストリ キーが適切に作成されない場合があります。

#### Windows NT 4.0 (すべてのバージョン)

**必要条件 :**

このセキュリティ更新プログラムを適用するには、Windows NT Server 4.0 Service Pack 6a (SP6a)、または Windows NT Server 4.0 Terminal Server Edition Service Pack 6 (SP6) がインストールされている必要があります。

上記のソフトウェアのテストを行い、この脆弱性による影響を評価しました。それ以前のバージョンに関してはサポートの対象となっていないため、この脆弱性による影響は不明です。ご使用中の製品およびバージョンのサポートライフ サイクルを確認するためには、[マイクロソフト サポート ライフサイクル](http://support.microsoft.com/lifecycle/)の Web サイトをご覧下さい。

最新のサービス パックの入手方法に関する詳細情報は、マイクロソフト サポート技術情報 [152734](http://support.microsoft.com/kb/152734) をご覧下さい。

**インストールに関する情報 :**

このセキュリティ更新プログラムは次のセットアップ スイッチをサポートします。

**/y:** 削除を実行します (**/m** または **/q** によってのみ)  
**/f:** コンピュータがシャット ダウンする時、そのほかのプログラムを強制的に閉じます  
**/n:** アンインストール フォルダを作成しません  
**/z:** インストールが完了する時、再起動しません  
**/q:** ユーザーインターフェースを使用せずに自動モードまたは無人モードを使用します (このスイッチは **/m** の真部分集合です)  
**/m:** 無人モードをユーザー インターフェースで使用します  
**/l:** インストールされた更新プログラムを一覧表示します  
**/x:** セットアップを実行せずにファイルを抽出します  

**注 :**   これらのスイッチを 1 つのコマンド ラインに組み込むことができます。サポートされるインストールスイッチについての追加情報はマイクロソフト サポート技術情報 [262841](http://support.microsoft.com/kb/262841) をご覧ください。

**適用に関する情報 :**

ユーザーの操作なしでセキュリティ更新プログラムをインストールするためには、Windows NT Server 4.0 のコマンド プロンプトで次のコマンドラインを使用して下さい。

**Windowsnt4server-kb870763-x86-jpn /q**

Windows NT Server 4.0 Terminal Server Edition :

**Windowsnt4terminalserver-kb870763-x86-jpn /q**

コンピュータを強制的に再起動せずにセキュリティ更新プログラムをインストールするためには、WINS を手動で停止し、次に Windows NT Server 4.0 のコマンド プロンプトで次のコマンドを使用してください。

**Windowsnt4server-kb870763-x86-jpn /z**

Windows NT Server 4.0 Terminal Server Edition :

**Windowsnt4terminalserver-kb870763-x86-jpn /z**

**再起動の必要性 :**

セキュリティの更新を適用してから、コンピュータを再起動する必要があります。しかし、このセキュリティ情報の「適用に関する情報」の欄に記載されている手順に従った場合、再起動を回避できる場合があります。

**削除に関する情報 :**

この更新プログラムを削除するためには、\[コントロールパネル\] の \[プログラムの追加と削除\] を使用してください。

システム管理者は Hotfix.exe ユーティリティを使用し、このセキュリティ更新プログラムを削除することができます。 Hotfix.exe ユーティリティは %Windir%\\$NTUninstallKB870763$ フォルダにあります。Hotfix.exe ユーティリティは次のセットアップ スイッチをサポートします。

**/y:** 削除を実行します (**/m** または **/q** によってのみ)  
**/f:** コンピュータがシャット ダウンする時、そのほかのプログラムを強制的に閉じます  
**/n:** アンインストール フォルダを作成しません  
**/z:** インストールが完了する時、再起動しません  
**/q:** ユーザーインターフェースを使用せずに自動モードまたは無人モードを使用します (このスイッチは **/m** の真部分集合です)  
**/m:** 無人モードをユーザー インターフェースで使用します  
**/l:** インストールされた更新プログラムを一覧表示します  

**ファイルに関する情報 :**

この更新プログラムの日本語版のファイル属性 (またはそれ以降) は次のとおりです。

**注 :**   日付、時間、ファイル名またはサイズの情報はインストール中に変更される場合があります。インストールの確認方法に関する詳細は「更新プログラムが正しくインストールされたかどうかを確認する方法」の欄をご覧下さい。

Windows NT Server 4.0 :

| ファイル名 | バージョン    | 日付       | 時間  | サイズ  |
|------------|---------------|------------|-------|---------|
| wins.exe   | 4.0.1381.7332 | 2004/12/01 | 22:30 | 207,600 |

Windows NT Server 4.0 Terminal Server Edition:

| ファイル名 | バージョン     | 日付       | 時間 | サイズ  |
|------------|----------------|------------|------|---------|
| wins.exe   | 4.0.1381.39817 | 2004/12/02 | 2:30 | 207,600 |

**更新プログラムが正しくインストールされたかどうか確認する方法 :**

-   **Microsoft Baseline Security Analyzer**

    影響を受けるコンピュータにセキュリティ更新プログラムがインストールされていることを確認するためには、Microsoft Baseline Security Analyzer (MBSA) ツールを使用して下さい。管理者は、一般的なセキュリティ上誤った構成とともに、不足しているセキュリティ更新プログラムについて、ローカル コンピュータおよびリモート コンピュータをMicrosoft Baseline Security Analyzer (MBSA) を使ってスキャンすることができます。MBSA に関する追加情報は、[Microsoft Baseline Security Analyzer](http://technet.microsoft.com/ja-jp/security/cc184924.aspx) の Web サイトをご覧下さい。

-   **ファイルのバージョンの確認**

    **注 :**  Microsoft Windows にはいくつかのバージョンがあるため、次のステップは使用中のコンピュータにより異なる場合があります。その場合、製品の説明書をご覧ください。

    1.  **\[スタート\]** をクリックし、次に **\[検索\]** をクリックします。
    2.  **\[検索結果\]** のウィンドウの **\[検索コンパニオン\]** の下の **\[ファイルとフォルダすべて\]** をクリックします。
    3.  **\[ファイル名のすべてまたは一部\]** のボックスで、適切なファイル情報の表からファイル名を入力し、次に **\[検索\]** をクリックします。
    4.  ファイルの一覧で、適切なファイル情報の表からファイル名を右クリックし、次に **\[プロパティ\]** をクリックします。

        **注 :**  インストールされているオペレーティング システムまたはプログラムのバージョンにより、ファイル情報の表に記載されているファイルで、インストールされないものがある場合もあります。

    5.  **\[バージョン情報\]** タブで、適切なファイル情報の表に記載されているバージョンと比較し、コンピュータにインストールされているファイルのバージョンを確認します。

        **注 :**  ファイルのバージョン以外の属性はインストール中に変更される場合があります。そのほかのファイルの属性をファイル情報の表の情報と比較することは、更新プログラムが正しくインストールされたことを確認する方法としてサポートされていません。また、ファイル名がインストール中に変更される場合があります。ファイルまたはバージョンの情報が存在しない場合、その他の方法によって更新プログラムが正しくインストールされたことを確認して下さい。

-   **レジストリキーの確認**

    また、次のレジストリ キーを調べることにより、このセキュリティ更新プログラムがインストールしたファイルを確認することもできます。

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Hotfix\\KB870763\\File 1

    **注 :**  これらのレジストリ キーには、インストールされるファイルの完全な一覧が含まれない場合があります。また、管理者または OEM メーカーによって 841356 のセキュリティ更新プログラムを Windows インストール ソース ファイルに統合またはスリップストリーム化されている場合、このレジストリ キーが適切に作成されない場合があります。

### その他の情報

**謝辞:**

この問題を連絡し、顧客の保護に協力して下さった下記の方に対し、マイクロソフトは深い[謝意](http://technet.microsoft.com/security/bulletin/policy)を表します。

-   「名前の検証の脆弱性」(CAN-2004-0567) および「アソシエーション コンテキストの脆弱性」(CAN-2004-0570) を報告してくださった CERT RENATER の [Kostya Kortchinsky](https://technet.microsoft.com/ja-JP/mailto:kostya.kortchinsky@renater.fr) 氏

**他のセキュリティ更新プログラムの入手先 :**

他のセキュリティ問題を解決する更新プログラムは以下のサイトから入手できます。

-   セキュリティ更新プログラムは[マイクロソフト ダウンロード センター](http://www.microsoft.com/downloads/results.aspx?displaylang=ja&freetext=security_patch)からダウンロードすることができます。「security\_patch」 のキーワード探索によって容易に見つけることができます。
-   コンシューマ プラットフォーム用の更新プログラムは、[Microsoft Update](http://update.microsoft.com/microsoftupdate/)Web サイトからダウンロードできます。
-   本セキュリティ情報及び公開された更新プログラムは、[TechNet CD サブスクリプション](http://www.microsoft.com/japan/technet/subscriptions/)でも入手可能です。

**他のセキュリティ情報 :**

-   [Microsoft TechNet Security センター](http://technet.microsoft.com/ja-jp/security/default.aspx) では、製品に関するセキュリティ情報を提供しています。
-   Microsoft Software Update Services : <http://www.microsoft.com/japan/windowsserversystem/updateservices/>
-   Microsoft Baseline Security Analyzer (MBSA) : <http://technet.microsoft.com/ja-jp/security/cc184924.aspx> MBSA ツールのセキュリティ更新プログラムの検出に関する制限は <http://support.microsoft.com/kb/306460> をご覧ください。
-   Windows Update カタログ : <http://support.microsoft.com/kb/323166>
-   Microsoft Update : <http://update.microsoft.com/microsoftupdate/>
-   Office のアップデート : <http://office.microsoft.com/officeupdate/>

**Software Update Services (SUS) :**

Microsoft Software Update Services (SUS) は、最新の重要な更新プログラムを適用し、Windows ベースのシステムを最新の状態に維持するプロセスを大幅に簡素化する目的で開発されました。SUS により、重要な更新プログラムを Windows® 2000 や Windows Server™ 2003 ベースのサーバー、ならびに Windows® 2000 Professional や Windows XP Professional を実行するデスクトップ コンピュータへ迅速かつ確実に配布することができます。

Software Update Services に関するより詳細な情報は以下をご覧ください:
<http://www.microsoft.com/japan/windows2000/windowsupdate/sus/>

**Systems Management Server (SMS) :**

Microsoft Systems Management Server (SMS) は更新プログラムを管理するための、構成可能なエンタープライズ ソリューションを提供します。SMS により、管理者はセキュリティ更新プログラムを必要とする Windows ベースのコンピュータを識別し、エンタープライズ全体で、エンド ユーザーへの中断を最小限にして、これらの更新プログラムの制御された適用を実行することができます。セキュリティ更新プログラムを適用するための SMS 2003 の使用方法に関する詳細情報は [SMS 2003 セキュリティ パッチ管理 Web サイト](http://www.microsoft.com/japan/smserver/evaluation/tips.mspx)をご覧下さい。SMS 2.0 ユーザーもまた、[Software Updates Service Feature Pack](http://www.microsoft.com/japan/smserver/downloads/20/featurepacks/suspack/) を活用して、セキュリティ更新プログラムの適用を支援することができます。SMS に関する情報は [SMS の Web サイト](http://www.microsoft.com/japan/smserver/default.mspx)をご覧下さい。

**注 :**   SMS は Microsoft Baseline Security Analyzer および Microsoft Office 検出ツールを活用してセキュリティ情報で提供された更新プログラムの検出と適用について広範なサポートを提供します。これらのツールにより検出されないソフトウェアの更新プログラムもあります。管理者は、特定のコンピュータへの更新プログラムを対象とし、これらの場合に SMS のインベントリ機能を使用することができます。この手順に関する詳細情報は、[こちらの Web サイト](http://www.microsoft.com/technet/prodtechnol/sms/sms2003/patchupdate.mspx) (英語情報) をご覧下さい。コンピュータの再起動後、管理者権限を必要とするセキュリティ更新プログラムもあります。管理者は、SMS 2.0 Administration Feature Pack の上位権利での展開ツール ([SMS Administration Feature Pack](http://www.microsoft.com/technet/sms/2003/downloads/featurepacks/adminpack.mspx) (英語情報) および [SMS 2.0 Administration Feature Pack](http://www.microsoft.com/japan/smserver/downloads/20/featurepacks/adminpack/) でご利用可能です) は、これらの更新プログラムのインストールに使用することができます。

**サポート :**

-   セキュリティ関連、およびセキュリティ更新プログラムに関するご質問や、ご不明な点などありましたら、マイクロソフト セキュリティ情報センターまでご連絡ください。
    [マイクロソフト セキュリティ情報センター](http://www.microsoft.com/japan/security/sicinfo.mspx)
-   その他、製品に関するご質問は、マイクロソフト プロダクト サポートまでご連絡ください。マイクロソフトでは、お問い合わせの内容が弊社製品の不具合が原因である場合、無償またはインシデントの未消費にてサポートをご提供いたします。
    [マイクロソフト プロダクト サポートへの連絡方法はこちらをご覧ください。](http://support.microsoft.com/select/?target=assistance)
-   製品のサポート期間の詳細は、[マイクロソフト サポート ライフサイクル Web サイト](http://www.microsoft.com/lifecycle)をご参照ください。製品別情報の詳細は、同様にマイクロソフト サポート ライフサイクル Web サイトの [製品を探す](http://support.microsoft.com/default.aspx?scid=fh;ja;complifeport)からご確認ください。

**詳細情報 :**

-   US マイクロソフトセキュリティ情報（MS04-045）
    [http://www.microsoft.com/technet/security/bulletin/ms04-045.mspx](http://technet.microsoft.com/security/bulletin/ms04-045)
-   サポート技術情報 （KB） 文書番号 ： 870763
    [\[MS04-045\] WINS の脆弱性により、リモートでコードが実行される](http://support.microsoft.com/kb/870763)

**更新履歴 :**

-   2004/12/15: このセキュリティ情報ページを公開しました。
-   2004/12/17: 「影響を受けるソフトウェア」を訂正し、Windows 2000 Server 製品のみがこの問題の影響を受けることを明確にしました。

本セキュリティ情報に含まれている情報は、いかなる保証もない現状ベースで提供されるものです。Microsoft Corporation 及びその関連会社は、市場性および特定の目的への適合性を含めて、明示的にも黙示的にも、一切の保証をいたしません。さらに、Microsoft Corporation 及びその関連会社は、本文書に含まれている情報の使用及び使用結果につき、正確性、真実性等、いかなる表明・保証も行ないません。Microsoft Corporation、その関連会社及びこれらの権限ある代理人による口頭または書面による一切の情報提供またはアドバイスは、保証を意味するものではなく、かつ上記免責条項の範囲を狭めるものではありません。Microsoft Corporation、その関連会社 及びこれらの者の供給者は、直接的、間接的、偶発的、結果的損害、逸失利益、懲罰的損害、または特別損害を含む全ての損害に対して、状況のいかんを問わず一切責任を負いません。（Microsoft Corporation、その関連会社 またはこれらの者の供給者がかかる損害の発生可能性を了知している場合を含みます。) 結果的損害または偶発的損害に対する責任の免除または制限を認めていない地域においては、上記制限が適用されない場合があります。-

*Built at 2014-04-18T01:50:00Z-07:00*
