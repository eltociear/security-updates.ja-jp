---
TOCTitle: 'MS00-004'
Title: 'マイクロソフト セキュリティ情報 MS00-004 - 重要'
ms:assetid: 'ms00-004'
ms:contentKeyID: 61228170
ms:mtpsurl: 'https://technet.microsoft.com/ja-JP/library/ms00-004(v=Security.10)'
---

マイクロソフト セキュリティ情報 MS00-004 - 重要
===============================================

「RDISK レジストリ情報ファイル」 の脆弱性に対する対策
-----------------------------------------------------

公開日: 2000年1月31日 | 最終更新日: 2001年5月24日

#### 概要 :

マイクロソフトは、1 月 21 日に Microsoft® Windows NT 4.0 に含まれる管理ユーティリティの脆弱性に関する通知を行いました。その時点では､この脆弱性の影響を受けるソフトウェア バージョンとして Windows NT 4.0 Server, Terminal Server Edition をあげました。しかし更に調査を進めたところ、Windows NT 4.0 のサーバーおよびワークステーションにおいてもこの脆弱性の影響が確認されため､通知を以下のように改正しました。  

管理ユーティリティの実行時に作成される一時ファイルには、セキュリティを侵害する恐れのある情報が含まれている可能性があります。しかしそれに対するアクセス許可が適切に設定されていないため、環境によっては悪意のあるユーザーがファイルの作成時にそれを読むことができてしまう場合があります。

**影響を受けるソフトウェアのバージョン:**

-   Microsoft Windows NT 4.0 Workstation
-   Microsoft Windows NT 4.0 Server
-   Microsoft Windows NT 4.0、Enterprise Edition
-   Microsoft Windows NT 4.0、Terminal Server Edition

### 詳細

問題
----


RDISK で更新後レジストリ データが参照できてしまう問題  
RDISK ユーティリティは、システム障害発生時の対策としてマシンの情報を保存するシステム修復ディスク (ERD) を作成するためのオプションです｡RDISK の実行時にレジストリ情報が含まれる一時ファイルが作成されますが、それに含まれる ACL は global read permission を許可しているため､管理者が RDISK を実行していることを知っている悪意のあるユーザーが、一時ファイルを作成中にファイルを開きレジストリ情報を読むことができてしまう場合があります｡RDISK は ERD の作成が完了するとファイルを消去してしまうため、正常に処理が実行された場合それ以降にこの問題が発生することはありません｡ なお、デフォルトの設定によりファイルは共有にはなっていないため、他のネットワーク ユーザーに読まれてしまうということはありません｡

よく寄せられる質問
------------------


**マイクロソフトセキュリティ情報MS00-004はどのような内容の通知ですか?**

このマイクロソフト セキュリティ情報 MS00-004 は、Microsoft® Windows NT 4.0 の一部として出荷されている管理ユーティリティの、セキュリティ上の脆弱性を排除する更新プログラムがリリースされたことを、お客様にお知らせするものです。この脆弱性のため、本来であればアクセスが拒否されるべき管理情報を、特定の環境で、サーバー上のユーザーが読むことができてしまう場合があります。マイクロソフトでは、お客様の情報の保護に全力を挙げて努めております。この通知で、お客様に脆弱性の詳細とその対策をお知らせします。

**この脆弱性はどれくらいの範囲に影響を与えますか?**

このセキュリティ上の脆弱性により、本来であれば権限のないユーザーが、Windows NT 4.0 マシン上の管理情報を読むことができてしまう場合があります。  

システム障害発生時の対策として Windows NT 4.0 で提供している RDISK ユーティリティは、レジストリへ値や名前を追加する時に一時的に情報を保存するファイルを作成します。しかし作成されている間、本来であれば権限がないユーザーも、そのファイルを読み取ることができてしまう場合があります。  

レジストリ情報が更新されれば、ファイルはツールによって消去されます。したがって、このセキュリティ上の脆弱性が侵害される可能性は限定的です。またこの脆弱性では、アクセス許可のないユーザーが値を変更したり、削除をできるものではなく、データを読み取ることができてしまう場合が発生してしまうだけです。さらにデフォルトで、サーバーに対話的にログオンできるユーザーしか読み取ることができないよう設定されています。デフォルトでは共有されておらず、したがって他のユーザーがネットワークを介し、ファイルを参照をできるということはありません。

**この脆弱性の原因は何ですか?**

システム修復ディスク (ERD) を作成するためのオプションである RDISK ユーティリティは、レジストリの更新の間、レジストリ情報を列挙する一時ファイルを作成します。しかし、この一時ファイルのアクセス許可は、マシン上のユーザーであればだれでも参照できる設定になっています。情報の更新が完了すると、ファイルは削除されますが、作成の間は読み取ることができてしまう可能性があります。

**RDISKとは何ですか?**

RDISK は、Windows NT マシンの現在の設定を保存する管理ユーティリティです。マシンを修復する必要が出た場合、管理者は保存されているレジストリ キーの値、また他のマシンの設定からマシンを復旧できます。マシンの現在の状態は、システム修復ディスク （ERD）に保存します。

**RDISKの何が問題になのですか?**

RDISK は、実行時にレジストリ名と値を含む一時ファイルを作成します。ここで問題となるのは、本来であればアクセス許可がないユーザーも、マシンに対話的にログオンできれば、そのファイルを読むことができてしまうことです。

**ユーザーがファイルを読み取ることができてしまうと何が問題になりますか?**

レジストリは、セキュリティ上、ユーザーが読むべきでない情報も含みます。管理者は、レジストリ値それぞれに、読み取り、書き込み、およびそれを変更するアクセス許可をユーザーに与えることができますが、この脆弱性により、読み取りが許可されていない情報も読むことができることがあります。

**だれがこのファイルを読めますか?**

デフォルトの設定では、マシンに対話的にログオンできる全てのユーザーが読めます。しかし、このファイルは共有されいないので、ネットワークを介して読み取られてしまうことはありません。

**ERD自体はどうですか? ERDにもセキュリティ上機密にしなければならない情報を含みますか?**

ERD にも、セキュリティ上機密にしなければならない情報を含みます。マイクロソフトでは、マシンの安全な場所もしくは物理的に保護された場所に ERD を保存することを推奨します。

**管理者は頻繁にRDISKを実行しますか?**

RDISK を実行するのはまれです。通常、マシンの構成を大きく変更する前後に実行します。

**どうやって悪意のあるユーザーにRDISKが実行されていることが分かるのですか?**

RDISK が実行されることが分かるサインは表面的にはありません。しかし、ユーザーが、管理者がそれを行う周期を知っている場合があります。

**この脆弱性の影響を最も受けるのはどのマシンですか?**

この脆弱性を侵害する場合、悪意のあるユーザーは、RDISK の実行中にマシンに対話的にログオンしていなければなりません。したがって、Terminal Server が最も影響を受けると思われます。  

サーバーやワークステーションでは、RDISK の実行中、普通のユーザーがマシンに対話的にログオンしているのは、なにか定期的にする作業がある場合だけです。しかし Terminal Server では、管理者が直接 RDISK を実行できます。したがって、サーバーやワークステーションと比べると、Terminal Server が侵害される可能性の方がいくぶん多いと思われます。

**だれが更新プログラムを適用すべきですか?**

管理者が、RDISK が使用されているマシンすべてに、この更新プログラムを適用すべきです。

**更新プログラムは何を変更するのですか?**

この更新プログラムは、普通のユーザーが上で説明した一時ファイルを読めないようにします。

**どこから更新プログラムを入手できますか?**

マイクロソフト セキュリティ情報 MS00-004 をご覧ください。

**この問題に対してマイクロソフトはどのような対応をしていますか?**

-   マイクロソフトは、この脆弱性を排除する更新プログラムを開発しました。
-   マイクロソフトは、セキュリティ上の脆弱性の詳細とその対策をお客様にご理解いただくために、セキュリティ情報 MS00-004 と、この faq を提供しています。
-   マイクロソフトは、マイクロソフト社の最新のセキュリティ情報を無料でご購読いただける[マイクロソフト プロダクト セキュリティ 警告サービス](http://technet.microsoft.com/ja-jp/security/dd252948.aspx) にて、購読の登録をされているお客様に、セキュリティ情報の通知を行っています。
-   マイクロソフトはサポート技術情報 [249108](http://support.microsoft.com/kb/249108) を公開し、このセキュリティ上の脆弱性と更新プログラムの詳細と説明しています。

**推奨するセキュリティ設定の詳細情報はどこで入手できますか?**

マイクロソフトが提供するセキュリティ情報の詳細は、弊社の[セキュリティ](http://technet.microsoft.com/ja-jp/security/default.aspx)の Web サイトから入手してください。

**テクニカルサポートを受けるにはどこに問い合わせればよいですか?**

マイクロソフトの製品に関するテクニカルサポートは、[電話番号とサポートオプションのサイト](http://support.microsoft.com/gp/cntactms)を参照してください。

更新プログラム
--------------


この問題に対する日本語版更新プログラムは、以下のサイトからダウンロードできます。

-   Windows NT 4.0 Workstation、Server、Server, Enterprise Edition:  

    この問題に対する更新プログラムは Windows NT 4.0 のセキュリティ ロールアップ パッケージ (SRP) に含まれています。  
    個別の更新プログラムよりもセキュリティ ロールアップ パッケージを適用することをお勧めします。  
    NT4.0 のセキュリティ ロールアップ パッケージは次のリンクから入手してください。

    [299444](http://support.microsoft.com/kb/299444) Post Windows NT 4.0 SP6a セキュリティ ロールアップ パッケージ (SRP)

    なお、個別の更新プログラムは次のリンクから入手することができます。

    -   PC/AT 互換機用および NEC PC98 シリーズ用  
        [http://www.microsoft.com/downloads/details.aspx?FamilyId=163b4fef-df1c-43af-b4f0-cf91bbb42fa6&displaylang=ja](http://www.microsoft.com/downloads/details.aspx?familyid=163b4fef-df1c-43af-b4f0-cf91bbb42fa6&displaylang=ja)
    -   Alpha 用    
        [http://www.microsoft.com/downloads/details.aspx?FamilyId=216c913b-27e6-48de-b61b-04638593b51a&displaylang=ja](http://www.microsoft.com/downloads/details.aspx?familyid=216c913b-27e6-48de-b61b-04638593b51a&displaylang=ja)

-   Windows NT 4.0, Terminal Server Edition:  

    この問題を解決するための更新プログラムは、Windows NT 4.0 Terminal Server Edition 日本語版サービスパック 6 以降に含まれています。Windows NT 4.0 Terminal Server Edition 日本語版の最新サービスパックについては、以下 Web サイトから入手できます。

    [http://www.microsoft.com/japan/products/ntupdate/tsesp6/](http://www.microsoft.com/japan/technet/downloads/winnt.mspx)

更新プログラムについてのご質問は、マイクロソフト プロダクト サポート までご連絡ください。マイクロソフトでは、ご質問の内容が弊社製品の不具合が原因の場合、サポート料金はいただきません。それ以外の場合には、サポート料金を請求させていただきますのでご注意ください。 
[マイクロソフト プロダクト サポートへの連絡方法はこちらをご覧ください。](http://www.microsoft.com/japan/security/support/patchqa.mspx)

### その他の情報

**詳細情報:**

-   US マイクロソフトセキュリティ情報（MS00-004）
    [http://www.microsoft.com/technet/security/bulletin/ms00-004.mspx](http://technet.microsoft.com/security/bulletin/ms00-004)
-   サポート技術情報 （KB） 文書番号 ： 156328  
    [Windows NT システム修復ディスクについて](http://support.microsoft.com/kb/156328)
-   サポート技術情報 （KB） 文書番号 ： 249108  
    [Rdisk の実行中にすべてのユーザーがレジストリ データを見ることができる](http://support.microsoft.com/kb/249108)

本セキュリティ情報に含まれている情報は、いかなる保証もない現状ベースで提供されるものです。Microsoft Corporation 及びその関連会社は、市場性および特定の目的への適合性を含めて、明示的にも黙示的にも、一切の保証をいたしません。さらに、Microsoft Corporation 及びその関連会社は、本文書に含まれている情報の使用及び使用結果につき、正確性、真実性等、いかなる表明・保証も行ないません。Microsoft Corporation、その関連会社及びこれらの権限ある代理人による口頭または書面による一切の情報提供またはアドバイスは、保証を意味するものではなく、かつ上記免責条項の範囲を狭めるものではありません。Microsoft Corporation、その関連会社 及びこれらの者の供給者は、直接的、間接的、偶発的、結果的損害、逸失利益、懲罰的損害、または特別損害を含む全ての損害に対して、状況のいかんを問わず一切責任を負いません。（Microsoft Corporation、その関連会社 またはこれらの者の供給者がかかる損害の発生可能性を了知している場合を含みます。) 結果的損害または偶発的損害に対する責任の免除または制限を認めていない地域においては、上記制限が適用されない場合があります。  

*Built at 2014-04-18T01:50:00Z-07:00*