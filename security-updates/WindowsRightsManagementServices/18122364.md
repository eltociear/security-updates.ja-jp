---
TOCTitle: 失効リストの展開
Title: 失効リストの展開
ms:assetid: 'e331338b-66d4-45e4-8d3f-acccf2302ac4'
ms:contentKeyID: 18122364
ms:mtpsurl: 'https://technet.microsoft.com/ja-jp/library/Cc747702(v=WS.10)'
---

失効リストの展開
================

失効を実装するためには、失効リストを導入する必要があります。失効リストは、コンテンツ、アプリケーション、ユーザーなどのプリンシパルが既に失効していると指定するものです。組織独自の失効リストを導入することも、失効リストを Microsoft から入手して展開することも可能です。

組織独自の失効リストの展開
--------------------------

権利ポリシー テンプレートで失効リストを使用するためには、組織内のクライアント コンピュータが失効リストにアクセスできるようにしておく必要があります。失効リスト作成の詳細については、この項目の「失効の実装」を参照してください。

組織独自の失効リストを導入するには、次の手順に従います。

1.  失効リスト ファイルを、ユーザーがアクセス可能な Web サーバーにコピーします。ユーザーが社外で保護されたコンテンツを使用することも考慮し、ネットワーク内外のすべてのユーザーがアクセスできるような場所にしてください。
    失効リスト ファイルをクライアント コンピュータに配布するためには、ある程度時間がかかる場合があります。この時間差により、失効リストが要求されるドキュメントをユーザーが開こうとしたとき、そのクライアント コンピュータから失効リストにアクセスできないといった事態も考えられます。失効リストがクライアント コンピュータ上に存在しない場合、RMS 対応アプリケーションは、使用ライセンスに指定された場所からリストをダウンロードできます。
    失効リストに署名し、それを目的の Web サイトにコピーする作業を毎日、自動的に実行するスクリプトを作成するのが理想的です。これにより、失効リストの有効期限が切れているためにユーザーがコンテンツを使用できないといった不都合を回避できます。サンプル スクリプトについては、この項目の「失効リスト署名ツールの使用」を参照してください。
2.  権利ポリシー テンプレートに、組織独自の失効リストの更新間隔をゼロより大きい値で指定します。これにより、失効リストを省略することはできなくなります。セキュリティの侵害が生じた場合などを除き、失効リストを頻繁には更新しない場合、更新間隔を大きな値に設定し、スクリプトまたはポリシー設定を使って、失効リストを必要に応じてクライアント コンピュータに送信することもできます。更新間隔設定の詳細については、この項目の「失効ポリシーの定義」を参照してください。権利ポリシー テンプレートを構成する方法の詳細については、この項目の「権利ポリシー テンプレートの作成と変更」を参照してください。
3.  権利ポリシー テンプレートに、失効リストにアクセスするための URL を指定します。
4.  また、失効リストは、グループ ポリシーや Systems Management Server (SMS) などの自動化された方法を使用して、クライアント コンピュータに導入することもできます。

Microsoft から入手した失効リストの展開
--------------------------------------

Rights Management サービス クライアントが Microsoft から入手した失効リストを使用するように設定するには、この失効リストをクライアント コンピュータに展開する必要があります。このトピックでは、次のようなシナリオで、Microsoft から入手した失効リストを導入する方法について説明します。

-   組織独自の失効リストと Microsoft から入手した失効リストの両方を導入する。
-   Microsoft から入手した失効リストだけを導入する。

執行リストが Microsoft によって発行された場合は、次の場所からダウンロードすることができます。

-   Windows Update を使用すると、RMS サーバーで失効リストをダウンロードできます。
-   RMS サーバーがインターネットに接続されていない場合は、Microsoft ダウンロード センターから Microsoft の失効リストをダウンロードすることができます。

RMS サーバーに失効リスト パッケージをダウンロードした場合、パッケージは %systemdrive%\\Program Files\\Windows Rights Management Services Revocation List フォルダに保存されます。その他のコンピュータに失効リスト パッケージをダウンロードした場合は、ダウンロード先を選択できます。このパッケージには、すべての失効リストをクライアントのライセンス保管場所にインストールするための実行可能ファイル (CRL\_Update.exe) の他、Web サイトまたはパブリックな共有フォルダにコピーして使用する失効リスト ファイル (Msrl.xml) が格納されています。

**組織独自の失効リストと Microsoft から入手した失効リストの両方を展開するには**
1.  組織独自の失効リストを展開するには、この項目の「[失効リストの展開](https://technet.microsoft.com/e331338b-66d4-45e4-8d3f-acccf2302ac4)」の手順を実行します。

2.  Microsoft の失効リスト パッケージをダウンロードし、グループ ポリシーや Systems Management Server (SMS) などを使用して、そのパッケージを組織内の全クライアント コンピュータに導入します。代わりに、Microsoft の失効リストのエントリを組織独自の失効リストにコピーしたうえで、組織独自の失効リストのみを導入することもできます。

| ![](images/Cc747702.Caution(WS.10).gif)注意                                                                                                                                                                                                                                                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RMS によって発行されたすべての証明書およびライセンスの信頼チェーンにおいて、Microsoft は 1 つのプリンシパルになります。したがって、Microsoft から発行された失効リストは、組織独自の失効リストを要求する権利ポリシー テンプレートに基づいて使用ライセンスを取得するすべてのバインド要求について有効になります。さらに、Microsoft の失効リストは、クライアント コンピュータに登録されます。 |

**Microsoft の失効リストだけを導入するには**
1.  Microsoft の失効リスト パッケージをダウンロードします。

2.  失効が要求されるように、既存の権利ポリシー テンプレートを修正します。権利ポリシー テンプレートが存在しない場合は、失効を要求する権利ポリシー テンプレートを作成します。失効条件を指定する場合は、Microsoft の公開キーを使用します。

3.  更新間隔は大きな値 (50,000 など) にしてください。これは、大きな値を指定することにより、Microsoft によって発行された失効リストの有効期限が切れてしまわないようにするための配慮です。この結果、失効リストを利用できない場合でも、配布した使用ライセンスは、新しいバージョンの Microsoft の失効リストを要求しません。

4.  失効リスト ファイルを、ユーザーがアクセス可能な Web サーバーにコピーします。ユーザーが社外で保護されたコンテンツを使用することも考慮し、ネットワーク内外のすべてのユーザーがアクセスできるような場所にしてください。

5.  失効リスト ファイルをクライアント コンピュータに配布するためには、ある程度時間がかかる場合があります。このため、クライアント コンピュータが失効リストにアクセスできるようにしておくことが重要になってきます。失効リストを要求する発行ライセンスが付与されたドキュメントをユーザーが開こうとしたときに、クライアントのローカル コンピュータに失効リストが格納されていない場合も考えられるからです。クライアント コンピュータに失効リストが存在しない場合、RMS 対応アプリケーションは、失効リストを指定された場所からダウンロードすることができます。

6.  権利ポリシー テンプレートに、失効リストにアクセスするための URL を指定します。権利ポリシー テンプレートを構成する方法の詳細については、この項目の「[権利ポリシー テンプレートの作成と変更](https://technet.microsoft.com/6014176f-ef71-4d29-b3e3-da129c18563d)」を参照してください。

7.  また、失効リスト パッケージは、グループ ポリシーや SMS などを使用して、クライアント コンピュータに導入することもできます。こうして、ユーザーは、ネットワークに接続しなくても、RMS で保護され、失効リストの参照を要求するコンテンツを開くことができます。
